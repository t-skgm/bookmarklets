<html>
<head><title>Bookmarklets</title></head>
<body>
<h1>Bookmarklets</h1>
<p>使いたいBookmarkletをブックマークバーにドラッグ</p>
<ul>
  <li>
    <a href="javascript:(async()=%3E%7Bconst%20x=(a,d,e)=%3Ed.split(%22.%22).reduce((k,l)=%3Ek&&k%5Bl%5D,a)??e;var%20m=(a=100)=%3Enew%20Promise(d=%3EsetTimeout(d,a));const%20r=(a,d)=%3E%7Ba=new%20Blob(%5Ba%5D,%7Btype:%22text/plain%22%7D);const%20e=document.createElement(%22a%22);e.href=URL.createObjectURL(a);e.download=d;e.click()%7D,y=new%20DOMParser,z=async%20a=%3E%7Ba=await%20fetch(a).then(d=%3Ed.text());a=y.parseFromString(a,%22text/html%22).querySelector('script%5Btype=%22application/ld+json%22%5D').textContent;return%20JSON.parse(a)%7D;try%7Bif(console.log(%22%5Bmarklet%5D%20script%20starts%22),%22Bandcamp%22!==document.querySelector('meta%5Bname=%22generator%22%5D')?.content)alert(%22Download%20failed:%20this%20page%20is%20not%20generated%20by%20Bandcamp%22);else%7Bvar%20u=a=%3E%7Blet%20d=%60%5Bname%5D%5Cn$%7Ba.name%7D%60;a.foundingLocation&&(d=d+%22%5Cn%5Cn%5Blocation%5D%5Cn%22+%60$%7Ba.foundingLocation.name%7D%60);a.description&&(d=d+%22%5Cn%5Cn%5Bdescription%5D%5Cn%22+a.description);a.mainEntityOfPage&&(d=d+%22%5Cn%5Cn%5Bwebsite%5D%5Cn%22+a.mainEntityOfPage.map(e=%3E%60*%20$%7Be.name%7D%20($%7Be.url%7D)%60).join(%22%5Cn%22));return%20d%7D,A=document.querySelector('script%5Btype=%22application/ld+json%22%5D').textContent,b=JSON.parse(A);if(null!=b.albumReleaseType)%7Bconst%20a=b.track.itemListElement.map(c=%3E%60$%7Bc.position%7D.%20$%7Bc.item.name%7D%60);var%20n=b.byArtist.name,p=b.name,B=b%5B%22@id%22%5D,C=a.join(%22%5Cn%22)??%22-%22,D=b.description??%22-%22,E=b.creditText??%22-%22,F=(new%20Date(b.datePublished)).toISOString().slice(0,10),G=b.copyrightNotice??%22-%22,H=b.keywords?b.keywords.join(%22,%20%22)??%22-%22:%22-%22,I=u(b.publisher);const%20d=Array.from(document.querySelectorAll(%22.lyricsRow%22)).map(c=%3E%7Bconst%20t=Number(c.id.replace(%22lyrics_row_%22,%22%22));c=c.textContent.trim();return%60$%7Ba%5Bt-1%5D%7D%5Cn$%7Bc%7D%60%7D);var%20f=n+%22%5Cn%22+p+%22%5Cn%22+B+%22%5Cn%5Cn%3CTrack%20list%3E%5Cn%22+C+%22%5Cn%5Cn%3CDescription%3E%5Cn%22+D+%22%5Cn%5Cn%3CCredits%3E%5Cn%22+E+%22%5Cn%5Cn%3CPublished%3E%5Cn%22+F+%22%5Cn%5Cn%3CLisence%3E%5Cn%22+G+%22%5Cn%5Cn%3CTags%3E%5Cn%22+H+%22%5Cn%5Cn%3CPublisher%3E%5Cn%22+I;null!=document.querySelector(%22.lyricsRow%22)&&(f+=%22%5Cn%5Cn%3CLyrics%20(In-page)%3E%5Cn%22+d.join(%22%5Cn%5Cn%22));r(f,%60$%7Bn%7D%20-%20$%7Bp%7D.txt%60);await%20m();const%20e=b.track.itemListElement.map(c=%3E(%7Burl:c.item%5B%22@id%22%5D,title:%60$%7Bc.position%7D.%20$%7Bc.item.name%7D%60,lyrics:x(c,%22item.recordingOf.lyrics.text%22)%7D)),k=document.querySelectorAll(%22.info_link%22),l=Array.from(k).filter(c=%3Ec.textContent.includes(%22info%22)).map(c=%3E%60$%7Blocation.origin%7D$%7Bc.querySelector(%22a%22).getAttribute(%22href%22)%7D%60);if(e.some(c=%3Evoid%200!==c.lyrics)%7C%7C0!==l.length)%7Bconsole.log(%22%5Bmarklet%5D%20this%20album%20has%20some%20track%20info.%20let's%20download%20it%22);const%20c=await%20Promise.all(e.map(async%20g=%3E%7Blet%20q=g.title+%22%5Cn%22;if(l.includes(g.url))%7Bvar%20h=await%20z(g.url);const%20v=h.description;h=h.creditText;v&&(q+=%22%3CDescription%3E%5Cn%22+v+%22%5Cn%22);h&&(q+=%22%3CCredit%3E%5Cn%22+h+%22%5Cn%22)%7Dg.lyrics&&(q+=%22%3CLyrics%3E%5Cn%22+g.lyrics);return%20q%7D)),t=n+%22%20-%20%22+p+%22%5Cn%5Cn%22+c.join(%22%5Cn%5Cn%22);r(t,%60$%7Bn%7D%20-%20$%7Bp%7D%20Tracks.txt%60)%7D%7Delse%7Bf=b.byArtist.name;var%20w=b.name,J=b%5B%22@id%22%5D,K=b.description??%22-%22,L=b.creditText??%22-%22,M=(new%20Date(b.datePublished)).toISOString().slice(0,10),N=b.copyrightNotice??%22-%22,O=u(b.publisher);const%20a=document.querySelector(%22.lyricsText%22).textContent;m=f+%22%5Cn%22+w+%22%5Cn%22+J+%22%5Cn%5Cn%3CDescription%3E%5Cn%22+K+%22%5Cn%5Cn%3CCredits%3E%5Cn%22+L+%22%5Cn%5Cn%22;if(null!=a)%7Bconst%20d=a.split(%22%5Cn%22).map(e=%3Ee.trim()).join(%22%5Cn%22);m+=%22%3CLyrics%3E%5Cn%22+d+%22%5Cn%5Cn%22%7Dr(m+(%22%3CPublished%3E%5Cn%22+M+%22%5Cn%5Cn%3CLisence%3E%5Cn%22+N+%22%5Cn%5Cn%3CPublisher%3E%5Cn%22+O),%60$%7Bf%7D%20-%20$%7Bw%7D.txt%60)%7Dconsole.log(%22%5Bmarklet%5D%20script%20finished!%22)%7D%7Dcatch(a)%7Balert(%22%5Bmarklet%5D%20Error!%22,a.message)%7D%7D)();">
      Download bandcamp description
    </a>
  </li>
  <li>
    <a href="javascript:(()=%3E%7Bvar%20b=document.querySelector(%22#my-chord-data%22)?.querySelectorAll(%22.chord-row%22)??%5B%5D;b=Array.from(b).map(c=%3E%7Bc=c.querySelectorAll(%22.chord%22);return%20Array.from(c).map(a=%3E%7Bconst%20d=a.querySelector(%22ruby%20%3E%20rt%22)?.textContent??%22%22;a=a.querySelectorAll(%22&%20%3E%20span%22)?.%5B1%5D?.textContent??%22%22;return%60%5B$%7Bd%7D%5D$%7Ba%7D%60%7D).join(%22%20%22)%7D).join(%22%5Cn%22);copy(b);alert(%22Chord%20data%20copied%20to%20clipboard!%22)%7D)();">
      Uf to chordpro
    </a>
  </li>
</ul>
</body>
</html>
