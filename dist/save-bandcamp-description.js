(()=>{const m=(a,g)=>g.split(".").reduce((c,l)=>c&&c[l],a),k=(a,g)=>{a=new Blob([a],{type:"text/plan"});const c=document.createElement("a");c.href=URL.createObjectURL(a);c.download=g;c.click()};var d=document.querySelector('script[type="application/ld+json"]').textContent,b=JSON.parse(d),h=b.track.itemListElement.map(a=>`${a.position}. ${a.item.name}`);d=b.byArtist.name;var f=b.name,e=b["@id"];h=h.join("\n");var n=b.description,p=b.creditText,q=b.datePublished,r=b.copyrightNotice,t=b.keywords.join(", ");
k(d+"\n"+f+"\n"+e+"\n\n<Track list>\n"+h+"\n\n<Description>\n"+n+"\n\n<Credits>\n"+p+"\n\n<Published>\n"+q+"\n\n<Lisence>\n"+r+"\n\n<Tags>\n"+t,`${d} - ${f}.txt`);b=b.track.itemListElement.map(a=>({id:a.item["@id"],title:`${a.position}. ${a.item.name}`,lyrics:m(a,"item.recordingOf.lyrics.text")}));e=document.querySelectorAll(".info_link");e=Array.from(e).filter(a=>a.textContent.includes("info")).map(a=>`${location.origin}${a.querySelector("a").getAttribute("href")}`);if(b.every(a=>void 0!==a.lyrics)||
0!==e.length)b=b.map(a=>a.title+"\n\n"+(a.lyrics??"(none)")).join("\n\n"),k(d+" - "+f+"\n\n"+b,`${d} - ${f} Tracks.txt`)})();
